<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<title>Willie's Website Portfolio: Javascript</title>
	<meta name="description" content="This page demonstrates my skills in editing a JavaScript game, using W3 Schools Javascript tutorial.">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="style.css">
</head>

<body onload="startGame()">
	<header>
    <a href="index.html">
      <img src="images/logo2.png" alt="logo" height="150px" width="400px" class="img-fluid logo">
    </a>
	</header>
	
	<nav>
      <ul>
        <li><a href="index.html">HOME</a></li>
        <li><a href="resume.html">RESUME</a></li>
        <li><a href="portfolio.html">PORTFOLIO</a></li>
        <li><a href="javascript.html">JAVASCRIPT</a></li>
      </ul>
  </nav>
<!--This is the main section-->
	<main>
    <div class="container-row">
      <div class="row">
        <div class="col-sm-12">
	       <h2>Javascript Flappy Bird HTML</h2>
         <p>This is a modified version of Flappy Bird HTML game I did in my Web Design class. We had to add at least five things to the game. Some of the things to make the game my own was change up the CSS, add a character image, adding an additional game element, and changing the background image.</p>
         <h3 class="center-text">*Achieve the highest score possible by trying to dodge the obstacles as long as possible!*</h3>
         <div id="game">
         </div>
         <div class="game-controls desktop">
            <button class="myButton" onmousedown="accelerate(-0.2)" onmouseup="accelerate(0.05)">UP</button>
         <a href>
          <button class="myButton">PLAY AGAIN</button> 
         </a>
         </div>
        </div>
      </div>
    </div>

<!-- This is the JavaScript for the game-->

   <script>
      var myGamePiece;
      var myObstacles = [];
      var myScore;
      
      function startGame() {
          myGamePiece = new component(30, 30, "images/angrybird.png", 10, 120, "image");
          myGamePiece.gravity = 0.06;
          myScore = new component("25px", "Consolas", "white", 420, 40, "text");
          myGameArea.start();
      }
      
      var myGameArea = {
          canvas : document.createElement("canvas"),
          start : function() {
              this.canvas.width = 640;
              this.canvas.height = 360;
              this.context = this.canvas.getContext("2d");
              var myGame = document.getElementById("game");
              myGame.insertBefore(this.canvas, myGame.childNodes[0]);        
              this.frameNo = 0;
              this.interval = setInterval(updateGameArea, 20);
           },
          clear : function() {
              this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
          }

      }
      
      function component(width, height, color, x, y, type) {
          this.type = type;
          if (type == "image") {
                      this.image = new Image();
                      this.image.src = color;
                    }
          this.score = 0;
          this.width = width;
          this.height = height;
          this.speedX = 0;
          this.speedY = 1;    
          this.x = x;
          this.y = y;
          this.gravity = 0;
          this.gravitySpeed = 0;
          this.bounce = 1.25;
          this.update = function() {
              ctx = myGameArea.context;
              if (type == "image") {
                          ctx.drawImage(this.image,
                          this.x,
                        this.y,
                          this.width, this.height);
                            }else if (this.type == "text") {
                  ctx.font = this.width + " " + this.height;
                  ctx.fillStyle = color;
                  ctx.fillText(this.text, this.x, this.y);
              } else {
                  ctx.fillStyle = color;
                  ctx.fillRect(this.x, this.y, this.width, this.height);
              }
          }
          this.newPos = function() {
              this.gravitySpeed += this.gravity;
              this.x += this.speedX;
              this.y += this.speedY + this.gravitySpeed;
              this.hitBottom();
          }
          this.hitBottom = function() {
              var rockbottom = myGameArea.canvas.height - this.height;
              if (this.y > rockbottom) {
                  this.y = rockbottom;
                  this.gravitySpeed = -(this.gravitySpeed * this.bounce);
              }
           }
          this.crashWith = function(otherobj) {
              var myleft = this.x;
              var myright = this.x + (this.width);
              var mytop = this.y;
              var mybottom = this.y + (this.height);
              var otherleft = otherobj.x;
              var otherright = otherobj.x + (otherobj.width);
              var othertop = otherobj.y;
              var otherbottom = otherobj.y + (otherobj.height);
              var crash = true;
              if ((mybottom < othertop) || (mytop > otherbottom) || (myright < otherleft) || (myleft > otherright)) {
                  crash = false;
              }
              return crash;
          }
      }
      
      function updateGameArea() {
          var x, height, gap, minHeight, maxHeight, minGap, maxGap;
          for (i = 0; i < myObstacles.length; i += 1) {
              if (myGamePiece.crashWith(myObstacles[i])) {
                  return;
              } 
          }
          myGameArea.clear();
          myGameArea.frameNo += 1;
          if (myGameArea.frameNo == 1 || everyinterval(150)) {
              x = myGameArea.canvas.width;
              minHeight = 20;
              maxHeight = 200;
              height = Math.floor(Math.random()*(maxHeight-minHeight+1)+minHeight);
              minGap = 50;
              maxGap = 200;
              gap = Math.floor(Math.random()*(maxGap-minGap+1)+minGap);
              myObstacles.push(new component(20, height, "green", x, 0));
              myObstacles.push(new component(20, x - height - gap, "green", x, height + gap));
          }
          for (i = 0; i < myObstacles.length; i += 1) {
              myObstacles[i].x += -1;
              myObstacles[i].update();
          }
          myScore.text="SCORE: " + myGameArea.frameNo;
          myScore.update();
          myGamePiece.newPos();
          myGamePiece.update();
      }
    
      function everyinterval(n) {
          if ((myGameArea.frameNo / n) % 1 == 0) {return true;}
          return false;
      }
      
      function accelerate(n) {
          myGamePiece.gravity = n;
      }
   </script>

	</main>
<!--End of the main section-->
	<footer>
    <div class="container-row">
      <div class="icons-row">
        <div class="col-sm-4">
          <a href="https://www.linkedin.com/in/willie-winston-iv-31b06b231/">
            <i class="fa fa-linkedin-square" aria-hidden="true"></i>
            <h4 class="linkedin-text">Connect with Me!</h4>
          </a>
        </div>
        <div class="col-sm-4">
          <a href="mailto: winstonivwillie@gmail.com">
            <i class="fa fa-envelope" aria-hidden="true"></i>
            <h4 class="envelope-text">Email Me!</h4>
          </a>
        </div>
      </div>
    </div>
    <br><small>&copy; Willie Winston IV. All rights reserved.</small>
  </footer>
<!--jQuery, Popper, and Bootstrap Javascript files-->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>